{"componentChunkName":"component---src-templates-aip-post-js","path":"/AIP-10/","result":{"data":{"site":{"siteMetadata":{"title":"Aave Improvement Proposals","siteUrl":"https://aave.github.io/aip"}},"avatar":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAFDUlEQVQ4y3WU+VNTVxTH34z/Aj/Jn9Bp7bQdWoprHa11R7EBCUsIIiigLIKCS1RAoyhoXgSEJGRPXpKXfQ8QYmIzoNSKSztSa5WMUOyMmf6Ux8s9vXkRpu1Mz8ydeXc5n3fPPed8ieNiJ9F5jiYy1nLZvob4YOJm09qbjUYBWacn7x7R0aMCDa3lq0iqWCmwFinWrpxzFco5HwtvlHDvkxNEmdTLbTRecXIbneesORc6LGT3KXPydpsDhltdIG+wgqbOApYaK1grKDDzRpP2gwrSs0+W80+o7ZAi+5e66y5u4WSPo6Dtom2+qzsIlzqs0NNqYm80UYyk0cgOHTOwsmodo6pQs8ZSNQT4JnAckM9jaAEH3Z+FEtV9bu7j6A33+nqxc/mU2AftIlvq7FkaXT5jQV0njai7RoOuC1RIKtQgebUWqcvVyHBYmXIVa8FZKF/G0PUZhnsFypf6cqpueRLHbgeh4aqTae5ywGmRDbW3UYi85gMf9QBChmlQX3ABWaFCiiot0pSrwViiZNw8LeCQE7692fA5Kx70k0JFFIT9nlRtrxtOiJ2o4TyNbK5HsLzMwoplviPGByCtVKFRDNWWqYEqUaZCh6kMlORge0dDuQdHgsmSu0EoJ73pI7e8qKrHjm5pYqsgQJmBVqe2vjGQliuRMgPlq9KWEhXgJCXxO+YSO9VjggOGGBSNBNiSQT+qlPoQ/6odoo9fc84a+gH88e4v+BMPWhvn1p7FX0J/pQpkNTqkrNQgXamKdZcawFakEBDb9BOSvbZp2KcIMYeGA6h0wA+lfW6YmVvgnIcNcUgsJGERDx1+lozNzSbgZq0OBmr1MCLUImWFmnEKLJlykhCbTWF6hy0O+KbsfkUIfT8cAJ7EA9Nzb1dDfPFqCZ6/WFid//J4HsT1epDUG2DwqA7JhFrWJDSBvlRFEwXWSXqrawq268fZXeoxVKgIwYEBH0z9mgWwaQQMw0IKj3Q6za39PDsPuJzg5gkKJMcNaLBGx+qOWgCXE0186bhHbgr+CFuoMPOtbhztUY3BnmE/xF9mgctsOpuTDJzNAp89SYCohQJxiwlweyLymJ7R1ttBXqWREJ+7o4L84EPYQE+y31BhtANDd8gD8MOrRfg/e/osAZ3tZuhuN6NrzSbUhztppNEKQzU6AfGJP5b7mSea/MoVg42WyfRW4wTapg6hiZdvYeb1ErxaSsKTN+/g+e9L8HrxPTydW4SZ2TfQjjtJ1EGj7jZzurfZDP0NxvdYSLKisc4fI/MijyHfHkltskzCZnzLid8WkMg/A5LwLBxXh6FJPg4y3yOQUHGYeTKPWkRW1HneCqIzllT/WS9ca6LI1U75KHg/Z50vlsgLTsHXtgizwRSGxuBDxKMiaJcsAAeH/FAs9QIfl9PJOwHUq4miE112wELCiC664OJpS+JKqynbejhkrqE/DtwvwNDlvMAUFFgjqXzDeHorvunubOYRD9co/44PVfR7kEDsSGMhSX0QEgYLCac4FzroNf+Frv/UG0vkh3+CjY4obDGFWZx5ZrdqjC2UBVnekJ8pk/rYatIPjXcmM0KSaO6yc0pz5rw1C/vCHc2+o28VmoOTJMHllNzknYbtnoewk47Dfuo+8HDX8JURKCO9SWGfR1Lb6+LCPHUpq/Q9bWYM8MeIPNe9f0EzhsspFydJgDNP4szT32nGaCwkZNFwQFAy4MtdOYdFmfPBKkXg8Im/Adw6zkzX1w4vAAAAAElFTkSuQmCC","width":30,"height":30,"src":"/aip/static/689aad3b5746be423e8a551069ccd17b/91664/logo.png","srcSet":"/aip/static/689aad3b5746be423e8a551069ccd17b/91664/logo.png 1x,\n/aip/static/689aad3b5746be423e8a551069ccd17b/ad39b/logo.png 1.5x,\n/aip/static/689aad3b5746be423e8a551069ccd17b/183c2/logo.png 2x"}}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/AIP-16/"},"frontmatter":{"status":"Proposed","aip":16,"title":"introduce Liquidity Incentives for Aave v2"}}},{"node":{"fields":{"slug":"/AIP-15/"},"frontmatter":{"status":"Proposed","aip":15,"title":"Upgrade Aave V1 repayment for migration tool"}}},{"node":{"fields":{"slug":"/AIP-14/"},"frontmatter":{"status":"Proposed","aip":14,"title":"Enable borrowing on renFIL"}}},{"node":{"fields":{"slug":"/AIP-13/"},"frontmatter":{"status":"Proposed","aip":13,"title":"Add renFIL support to Aave"}}},{"node":{"fields":{"slug":"/AIP-12/"},"frontmatter":{"status":"WIP","aip":12,"title":"Adding AMPL on AAVE"}}},{"node":{"fields":{"slug":"/AIP-11/"},"frontmatter":{"status":"Proposed","aip":11,"title":"desactivation of Aave V1 stable rate borrowing"}}},{"node":{"fields":{"slug":"/AIP-10/"},"frontmatter":{"status":"WIP","aip":10,"title":"Adding xSushi on AAVE"}}},{"node":{"fields":{"slug":"/AIP-9/"},"frontmatter":{"status":"Proposed","aip":9,"title":"Activation of the Aave Balancer Pool Liquidity Staking"}}},{"node":{"fields":{"slug":"/AIP-8/"},"frontmatter":{"status":"Proposed","aip":8,"title":"Adding BAL on AAVE"}}},{"node":{"fields":{"slug":"/AIP-7/"},"frontmatter":{"status":"Proposed","aip":7,"title":"Aavenomics Quarterly Upgrade"}}},{"node":{"fields":{"slug":"/AIP-6/"},"frontmatter":{"status":"Implemented","aip":6,"title":"Adding GUSD on AAVE"}}},{"node":{"fields":{"slug":"/AIP-5/"},"frontmatter":{"status":"Implemented","aip":5,"title":"Adding CRV on AAVE"}}},{"node":{"fields":{"slug":"/AIP-4/"},"frontmatter":{"status":"Implemented","aip":4,"title":"Activation of Aave Protocol Governance V2"}}},{"node":{"fields":{"slug":"/AIP-3/"},"frontmatter":{"status":"Implemented","aip":3,"title":"V1 upgrades for seamless transition to AAVE v2"}}},{"node":{"fields":{"slug":"/AIP-2/"},"frontmatter":{"status":"Implemented","aip":2,"title":"Bootstrap of the AAVE Governance Fund"}}},{"node":{"fields":{"slug":"/AIP-1/"},"frontmatter":{"status":"Implemented","aip":1,"title":"LEND/AAVE migration and activation of the Safety Module"}}}]},"markdownRemark":{"id":"becd1bf0-4063-55ef-95fb-eec7ca5db93c","excerpt":"Simple Summary xSUSHI is the governance token of Sushiswap, a community-led DEX with a current TVL of more than 1.1B. Abstract Add xSushi to the AAVE V2 market…","html":"<h2>Simple Summary</h2>\n<p>xSUSHI is the governance token of Sushiswap, a community-led DEX with a current TVL of more than 1.1B.</p>\n<h2>Abstract</h2>\n<p>Add xSushi to the AAVE V2 market.</p>\n<h2>Motivation</h2>\n<p>Aave would be the first platform to support xSushi a yield bearing asset with over of 100m$ currently under utilized.</p>\n<p>Aavengers could use their platform of predilection to borrow their existing xSushi.</p>\n<p>Support community-led projects.</p>\n<h2>Specification</h2>\n<p>xSushi is one of the two currently supported assets for Sushi governance (ETH/SUSHI SLP being the other one). We are currently not fully decentralized but the members of the Ops multisig and Treasury multisig are bound to respect all of the governance votes. We do plan to be a real DAO most likely leveraging Aragon v2 in 6 to 12 months depending on the progress made by community.</p>\n<p>xSushi is receiving 0.05% of all the swaps happening on Sushiswap and should also benefits from all of the future revenues streams from upcoming platforms such as Bento-Miso-Gusoku-Deriswap and more.</p>\n<p>The current yield on this asset alone is hovering around 10-40% APY with over $100MM locked in the Sushibar making it an ideal productive asset as collateral.</p>\n<h2>Rationale</h2>\n<p>The rationale for adding xSushi to the AAVE V2 market is simple; xSushi is a popular yield bearing asset but is currently incapable of being utilized for borrowing or lending.</p>\n<p>SUSHI can currently be borrowed and lent on <a href=\"https://app.cream.finance/\">cream.finance</a>. However, xSushi cannot be borrowed or lent on any platform currently. By allowing xSushi to be borrowed and lent on AAVE v2, this will allow xSushi holders to access the liquidity of their platform</p>\n<p>The rationale fleshes out the specification by describing what motivated the design and why particular design decisions were made. It should describe alternate designs that were considered and related work, e.g. how the feature is supported in other languages. The rationale may also provide evidence of consensus within the community, and should discuss important objections or concerns raised during discussion.—></p>\n<h2>Test Cases</h2>\n<p><em>see implementation</em></p>\n<h2>Implementation</h2>\n<p>AAVE does not use TWAP oracle and xSushi does not have sufficient liquidity on centralized exchanges we will calculate the xSushi using the existing oracle of SUSHI and applying a calculated exchange rate.</p>\n<p>The price oracle for xSushi will calculate the price using a SUSHI price oracle multiplied by the exchange rate for SUSHI&#x3C;>xSushi.</p>\n<p><code class=\"language-text\">xSushiPrice = sushiPrice * exchangeRate</code></p>\n<p>To calculate the exchange rate we will check the SUSHI balance of the xSushi contract.</p>\n<p>An example implementation of exchange rate calculation can be found below</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> sushi <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ethers<span class=\"token punctuation\">.</span>Contract</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0x6b3595068778dd592e39a122f4f5a5cf09c90fe2'</span><span class=\"token punctuation\">,</span> abi<span class=\"token punctuation\">,</span> provider<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> totalSushiStakedinXSushi <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> sushi<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function\">balanceOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0x8798249c2E607446EfB7Ad49eC89dD1865Ff4272'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> xSushi <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ethers<span class=\"token punctuation\">.</span>Contract</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0x8798249c2E607446EfB7Ad49eC89dD1865Ff4272'</span><span class=\"token punctuation\">,</span> abi<span class=\"token punctuation\">,</span> provider<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> totalXSushiSupply <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> xSushi<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function\">totalSupply</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> exchangeRate <span class=\"token operator\">=</span> totalSushiStakedinBar<span class=\"token punctuation\">.</span><span class=\"token function\">div</span><span class=\"token punctuation\">(</span>totalXSushiSupply<span class=\"token punctuation\">)</span></code></pre></div>\n<p>At the request of the AAVE team we have included a convenience contract for returning the exchange rate of Sushi -> xSushi exchange rate.</p>\n<p><a href=\"https://etherscan.io/address/0xE8061286f2975EF38c8F70607eD839Fc9C0f0090#readContract\">Exchange Rate contract</a>\n<a href=\"https://github.com/sushiswap/xsushi-exchange-rate\">Exchange Rate contract repo</a></p>\n<p>Values from the <code class=\"language-text\">getExchangeRate()</code> method are returned as <code class=\"language-text\">uint256</code> values with a pecision of <code class=\"language-text\">10**18</code></p>\n<p>Lastly, xSushi is explicitly convertible for SUSHI at the exchange rate described above. Fees are paid as SUSHI to xSushi holders and collected into a pool of SUSHI, where each xSushi token represents a proportional share in the pool size. In essence SUSHI fees paid are accumulated to the xSushi which are not redeemable without the destruction of the underlying xSushi.</p>\n<p>Since debts incurred on AAVE would require that the debt be repaid in xSushi, the fees that are accumulated are safe from being harvested.</p>\n<h2>Audits/Security Reviews</h2>\n<p><a href=\"https://docs.defisafety.com/finished-reviews/sushiswap-process-quality-audit#audits\">Peckshield &#x26; Quantstamp</a></p>\n<p><a href=\"https://governance.aave.com/t/listing-proposal-add-xsushi/1794/16\"><strong>AAVE Community xSushi Risk Assement</strong></a></p>\n<p><img src=\"https://aws1.discourse-cdn.com/standard21/uploads/aave/optimized/1X/e35ebb4c429ea6e1162d1fd6faf7d7b624287a14_2_690x184.png\" alt=\"Screenshot 2021-01-05 at 19.56.10\"></p>\n<p>SushiSwap is a DEX forked of Uniswap that grew very fast, now at $1.6B of TVL, thanks to generous liquidity mining incentives. It is now part of the Yearn conglomerate with many new upcoming features.</p>\n<p>xSUSHI is the staked SUSHI that receives .05% of the fees with 10 to 40% APY a great property for a collateral. The redeeming process from xSUSHI to SUSHI is permissionless allowing the analysis to focus on SUSHI.</p>\n<p><a href=\"https://ethplorer.io/address/0x6b3595068778dd592e39a122f4f5a5cf09c90fe2\"><strong>SUSHI Smart contract</strong></a> <strong>Risk: B-</strong></p>\n<p>SUSHI was launched late August by a fork of the Uniswap Exchange. Shortly after launch, the key developer stole the development funds, eventually returning them. The network managed secure support from some industry leaders and has grown fast in these few month reaching two dozen users and over a billion transactions.</p>\n<p><strong>SUSHI Counterparty Risk: B</strong></p>\n<p>Sushi is a permissionless blockchain protocol where token holders vote on incentives and upgrades. Anyone can create new Sushi markets.</p>\n<p><a href=\"https://www.coingecko.com/en/coins/sushi\"><strong>SUSHI Market</strong></a> <strong>Risk: C +</strong></p>\n<p>SUSHI has a good market capitalisation with a high volume. The price has suffered from extreme volatility since inception, suffering from large drops in value which is problematic for a collateral, requiring prudent parameters. This was driven by internal drama which also deeply affected community trust, now on the mend.</p>\n<h3>Risk Parameters ~ New (also proposed for SNX)</h3>\n<p>LTV 25%</p>\n<p>Liquidation Threshold 45%</p>\n<p>Liquidation Bonus 15%</p>\n<p>Reserve Factor 35%</p>\n<h3>Variable Interest Rate Model ~ Collaterals</h3>\n<p><img src=\"https://aws1.discourse-cdn.com/standard21/uploads/aave/optimized/1X/db265d003d9c9d4afa45b1fcc6aa6d59a7527206_2_690x444.png\" alt=\"Screenshot 2020-12-15 at 19.44.31\"></p>\n<p>UOptimal 45%</p>\n<p>R_0 0%</p>\n<p>R_s1 7%</p>\n<p>R_s2 300%</p>\n<h2>References</h2>\n<p><a href=\"https://sushiswap.fi/\">Classic UI (deprecated 2021-1-22)</a>\n<a href=\"https://lite.sushiswap.fi/\">SushiSwap Lite</a>\n<a href=\"https://lite.sushiswap.fi/\">SushiSwap.fi</a>\n<a href=\"https://etherscan.io/address/0x6b3595068778dd592e39a122f4f5a5cf09c90fe2\">Sushi token 0x6b3595068778dd592e39a122f4f5a5cf09c90fe2</a>\n<a href=\"https://etherscan.io/address/0x8798249c2E607446EfB7Ad49eC89dD1865Ff4272\">xSushi token 0x8798249c2E607446EfB7Ad49eC89dD1865Ff4272</a>\n<a href=\"forum.sushiswapclassic.org\">Sushi Governance forum</a>\n<a href=\"docs.sushiswap.fi\">Help and FAQ</a></p>\n<h2>Copyright</h2>\n<p>Copyright and related rights waived via <a href=\"https://creativecommons.org/publicdomain/zero/1.0/\">CC0</a>.</p>","frontmatter":{"aip":10,"title":"Adding xSushi on AAVE","status":"WIP","author":"0xMaki (@0xMaki), Joseph Delong (@dangerousfood)","discussions":"https://governance.aave.com/t/listing-proposal-add-xsushi/1794","created":"January 15, 2021","updated":"2021-02-08T00:00:00.000Z"}}},"pageContext":{"slug":"/AIP-10/","previous":{"fields":{"slug":"/AIP-9/"},"frontmatter":{"title":"Activation of the Aave Balancer Pool Liquidity Staking","status":"Proposed","aip":9}},"next":{"fields":{"slug":"/AIP-11/"},"frontmatter":{"title":"desactivation of Aave V1 stable rate borrowing","status":"Proposed","aip":11}}}}}